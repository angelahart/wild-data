data <- read.csv("remaining uninsured_base.csv", stringsAsFactors=F)
setwd("~/dataviz-fall-2013/data-wild")
setwd("~/dataviz-fall-2013/wild-data")
data <- read.csv("county-data.csv")
data$county <- sapply(strsplit(as.character(data$ACCOMACK.VA.), split="\\("), function(x) { x[1] })
data$state <- sapply(strsplit(as.character(data$ACCOMACK.VA.), split="\\("), function(x) { x[2] })
data$state <- sapply(strsplit(as.character(data$state), split="\\)"), function(x) { x[1] })
get_state_data <- function(mystate) {this_state_data <- subset(data, state == mystate) }
data$guns <- as.numeric(gsub("\\,","", data$X1))
guns_state <- aggregate(data$guns, list(data$state), sum)
guns_state2 <- guns_state[order(guns_state$x, decreasing = TRUE), ]
barplot(guns_state2$x, ylab="Number of Guns", xlab="States", col=barcolors, border=F)
